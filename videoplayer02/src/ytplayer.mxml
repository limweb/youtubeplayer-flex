<?xml version="1.0" encoding="utf-8"?>
<s:Group xmlns:fx="http://ns.adobe.com/mxml/2009"
		 xmlns:s="library://ns.adobe.com/flex/spark"
		 xmlns:youtube="de.derhess.video.youtube.*"
		 width="640" height="359">
	<fx:Declarations>
		<!-- Place non-visual elements (e.g., services, value objects) here -->
	</fx:Declarations>
	<fx:Script>
		<![CDATA[
			import de.derhess.video.youtube.YouTubeError;
			import de.derhess.video.youtube.YouTubeEvent;
			import de.derhess.video.youtube.YouTubePlayingState;
			import de.derhess.video.youtube.YouTubeVideoQuality;
			
			import mx.collections.ArrayCollection;
			import mx.controls.Alert;
			[Bindable] public var totalTime:Number = 350;
			[Bindable] public var defaultTime:Number = 10;
			[Bindable] public var volNum:Number = 30;
			[Bindable] public var loadbarwidth:Number = 0;
			
			[Bindable]
			private var trackingActions:ArrayCollection = new ArrayCollection(new Array());
			
			
			
			protected function volctrl_changeHandler(event:Event):void
			{
				// TODO Auto-generated method stub
				
			}
			
			private function handlePlayerLoaded(event:YouTubeEvent):void
			{
				trackingActions.addItem({label:"YouTube Playinger API loaded"});
				youTubePlayer.cueVideoById("jAHYJX4-glU",0,YouTubeVideoQuality.DEFAULT);
			}
			
			private function handlePlayingState(event:YouTubeEvent):void
			{
				var message:String = "";
				switch(event.playerState)
				{
					case YouTubePlayingState.BUFFERING:
						message = "Video is Buffering";
						break;
					case YouTubePlayingState.UNSTARTED:
						message = "Player is unstarted";
						break;
					case YouTubePlayingState.PLAYING:
						message = "Video is playing";
						break;
					case YouTubePlayingState.PAUSE:
						message = "Video pause is active";
						break;
					case YouTubePlayingState.VIDEO_CUED:
						message = "Video is cued - Playing new Video?!"
						youTubePlayer.visible = true;
						break;
					case YouTubePlayingState.VIDEO_ENDED:
						message = "Video is finished";
						youTubePlayer.visible = false;
						break;
					
					default:
						message = "uh what happens?? " + event.playerState;
						break;
				}
				
				trackingActions.addItem({label:"YouTube PlayingState: " + message});
			}
			
			private function handleVideoQuality(event:YouTubeEvent):void
			{
				var message:String = "";
				switch(event.playbackQuality)
				{
					case YouTubeVideoQuality.DEFAULT:
						message = "default - YouTube choose";
						break;
					case YouTubeVideoQuality.SMALL:
						message = "SMALL - less than 640px by 360px";
						break;
					case YouTubeVideoQuality.MEDIUM:
						message = "MEDIUM - 640px by 360px";
						break;
					case YouTubeVideoQuality.LARGE:
						message = "LARGE - 854px by 480px";
						break;
					case YouTubeVideoQuality.HD720:
						message = "HD - 1280px by 720px"
						break;
					
					default:
						message = "uh what happens?? " + event.playbackQuality;
						break;
				}
				trackingActions.addItem({label:"Video Quality changed: " + message});
			}
			
			private function handleYouTubeError(event:YouTubeEvent):void
			{
				var message:String = "";
				switch(event.errorCode)
				{
					case YouTubeError.VIDEO_NOT_FOUND:
						message = "Video not found: " + event.errorCode;
						break;
					case YouTubeError.VIDEO_NOT_ALLOWED:
						message = "Video not allowed: " + event.errorCode;
						break;
					case YouTubeError.EMBEDDING_NOT_ALLOWED:
						message = "Embedding not allowed: " + event.errorCode;
						break;
					
					default:
						message = "undefined Error:" + event.errorCode;
						break;
				}
				Alert.show(message,"YouTube Error",Alert.OK);
				trackingActions.addItem({label:"Video Error: " + message});
			}
			
			
		]]>
	</fx:Script>
	<s:BitmapImage x="0" y="0" smooth="true"
				   source="@Embed('/assets/images/2948525373_c9a207e0c1.png')"/>
	<s:BitmapImage left="5" top="5" width="266" height="63" smooth="true"
				   source="@Embed('/assets/images/logo2.png')">
		<s:filters>
			<s:DropShadowFilter alpha="0.5" angle="45.0" blurX="4.0" blurY="4.0" color="#000000"
								distance="4.0" hideObject="false" inner="false" knockout="false"
								quality="2" strength="1"/>
		</s:filters>
	</s:BitmapImage>
	
	<youtube:FlexYouTube x="0" y="0" width="641" height="359" visible="false" id="youTubePlayer"
						 youtubePlayerLoaded="{handlePlayerLoaded(event);}"
						 youtubeStatus="{handlePlayingState(event);}"
						 youtubeVideoQuality="{handleVideoQuality(event);}"
						 youtubeError="{handleYouTubeError(event);}"
						 />
	<s:Group bottom="10" horizontalCenter="0">
		<s:BitmapImage source="@Embed('/assets/images/videoplayer02/shape.png')" smooth="true" x="0" y="0" alpha="0.6"/>
		<s:RichText whiteSpaceCollapse="preserve" fontFamily="Arial" color="#ffffff" fontSize="11" lineHeight="227.25%" x="395" y="14">
			<s:content><s:p><s:span>04:25</s:span></s:p></s:content>
		</s:RichText>
		<s:HSlider x="44" y="8" id="vdoCtrl" skinClass="components.vdoColtrolBar" showDataTip="true" maximum="{totalTime}" minimum="0"
				   toolTip="{vdoCtrl.value}"
				   />
		<s:Button x="543.95" y="9" buttonMode="true" skinClass="components.btnFull"/>
		<s:BitmapImage source="@Embed('/assets/images/videoplayer02/Shape 11.png')" smooth="true"  x="433" y="9"/>
		<s:BitmapImage source="@Embed('/assets/images/videoplayer02/Shape 14_s Drop Shadow.png')" smooth="true"  x="462" y="14"/>
		<s:HSlider id="volctrl" x="461.95" y="10" skinClass="components.volControl" maximum="100" minimum="0" value="{volNum}"
				   change="volctrl_changeHandler(event)" showDataTip="true" toolTip="{volctrl.value}" />
		<s:ToggleButton x="7.95" y="3" buttonMode="true" skinClass="components.btnPlayPause"/>
	</s:Group>

</s:Group>
